<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Teste Andy Whily</title>
    <xml id="toolbox" style="display: none">
        <block type="controls_if"></block>
        <block type="controls_repeat_ext"></block>
        <block type="logic_compare"></block>
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
        <block type="text"></block>
        <block type="text_print"></block>
    </xml> 
    <script type="text/javascript" src="Game.js"></script>
    <script type="text/javascript">
        var game = new Game();
    </script>
    <script type="text/javascript" src="js/phaser.min.js"></script>
    <script type="text/javascript" src="js/blockly_compressed.js"></script>
    <script type="text/javascript" src="js/blocks_compressed.js"></script>
    <script type="text/javascript" src="js/javascript_compressed.js"></script>
    <script type="text/javascript" src="msg/js/en.js"></script>

    <style type="text/css">
        body {
            margin: 0;
        }
        #blockly {
            float: right;
        }
        #jogo{
            float: right;
        }
    </style>
</head>
<body>


<script type="text/javascript">

    var engine = new Phaser.Game(800, 600, Phaser.AUTO, 'jogo', { preload: preload, create: create, update: update });
    game.setEngine(engine);

    function preload() {
        
        game.preload();

    }

    function create() {
        game.create();
    }

    function update() {
        game.update();

    }

    function addTween(tween){
        var t = tween;
    }

    function runCode(){
        // Generate JavaScript code and run it.

        window.LoopTrap = 1000;
        console.log('run');
        Blockly.JavaScript.INFINITE_LOOP_TRAP =
            'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
        var code = Blockly.JavaScript.workspaceToCode();
        Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
        try {
            eval(code);
        } catch (e) {
            alert(e);
        }
    }

</script>
<div id='blockly' style="height: 600px; width: 600px;"></div>
<div id="jogo" style="height: 601px; width: 801px;"></div>
<button onclick="runCode()">Run JavaScript</button>


   

</body>
</html>